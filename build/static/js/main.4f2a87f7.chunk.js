(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,s){"use strict";s.r(t);var c,n=s(1),a=s.n(n),i=s(56),r=s.n(i),o=s(4),l=(s(64),s(2)),j=s(0),u=function(e){var t=e.game;return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsx)("h1",{children:t}),Object(j.jsx)("p",{className:"inputname",children:"searching for a game ..."}),Object(j.jsx)("p",{className:"inputname",children:"time elapsed 0s"})]})},b=s(16),d=s.n(b),h=s(117),m=function(e){var t=e.socket,s=e.game,c=e.user,a=Object(n.useState)([]),i=Object(o.a)(a,2),r=i[0],l=i[1];return Object(n.useEffect)((function(){d.a.get("http://localhost:5000/api/user/leaderboard").then((function(e){l(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsxs)("div",{className:"Roomswrapper",children:[Object(j.jsxs)("div",{className:"Panel Rooms",children:[Object(j.jsxs)("div",{className:"GameIcon",children:[Object(j.jsxs)("h1",{children:[s,"."]}),Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMsAAADLCAYAAADA+2czAAACsElEQVR4nO3csUkEURhG0bcyuRXYgWBgBbZkIfZgJdbkNqAoJiZ636I+nD0n2uxnFi7DJN/h6vH4MoAvXT7cjW18/Pgrz/dPY+83z+EZV99c4WLZZfhnxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRrWMI3iZqvVkgMgy+g3tj8WC2YXBALHAKsUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQ2TqGwNYxTNj8Wb/H1vHPW7VbPXyzQCcWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiAyDQ2AYHCa8D4Pvedh5xc2Vz7iCYXDgE7FAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAZBgcAsPgMMEw+A7ujTMcBl/BmwUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUBkGBwCw+AwwTD4Du6teMbVN1fwZoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoHI1jEEto5hwnZOf5atYzdPvTd8s0AnFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFogMg0NgGBwmHK5vbr1Z4DtjjFe7/ouRPIKACwAAAABJRU5ErkJggg=="})]}),Object(j.jsxs)("div",{className:"Matchmakingbuttons",children:[Object(j.jsx)("button",{onClick:function(){t.emit("q".concat(s),c)},className:"formbutton",children:"find random player"}),Object(j.jsx)("button",{onClick:function(){t.emit("create".concat(s),c)},className:"formbutton",children:"invite a friend"})]})]}),Object(j.jsxs)("div",{className:"Panel Leaderboard",children:[Object(j.jsx)("h1",{children:"leaderboard"}),r.map((function(e,t){return Object(j.jsxs)("div",{className:"Score",children:[Object(j.jsxs)("p",{children:[t+1,". ",e.username]}),Object(j.jsx)("p",{children:e.score})]},Object(h.a)())}))]})]})},O=function(e){var t=e.game,s=e.code;return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsxs)("h1",{children:["invite your friend to ",t]}),Object(j.jsx)("p",{children:"send them this link"}),Object(j.jsx)("h4",{children:"".concat(window.location.href,"/").concat(s)})]})},p=function(e){var t=e.coords,s=e.shoot;return Object(j.jsx)("button",{className:"Cell",onClick:function(){return s(t)}})},x=function(e){var t=e.val,s=e.shot;return Object(j.jsx)("div",{className:"Cell ".concat(t," ").concat(t.length>4?"Hit":"Miss"),children:""!==s?"hit"===s?Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"white",children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):Object(j.jsx)("div",{className:"Circle"}):""})},g=function(e){var t=e.val;return Object(j.jsx)("div",{className:"".concat(t.split(" ")[1]?t.split(" ")[1]:""," Cell ").concat(t.length>4?"Hit":"Miss"),children:t.length>4?Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):Object(j.jsx)("div",{className:"Circle"})})},f=function(e){var t=e.map,s=e.eshots,c=e.shots,n=e.shoot;return void 0!==c&&console.log("Shots:"+c),Object(j.jsx)("div",{className:"Grid",children:void 0!==c?t.map((function(e,t){return e.map((function(e,s){var a=c.filter((function(e){return e[0]===s&&e[1]===t}));return a.length>0?(console.log("Shot Coords:"+a),Object(j.jsx)(g,{val:e,coords:[s,t]},Object(h.a)())):Object(j.jsx)(p,{coords:[s,t],shoot:n},Object(h.a)())}))})):t.map((function(e,t){return e.map((function(e,c){var n=s.filter((function(e){return e[0]===c&&e[1]===t})),a="";return n.length>0&&(a=e.length>4?"hit":"miss",console.log(n[0])),Object(j.jsx)(x,{val:e,coords:[c,t],shot:a},Object(h.a)())}))}))})},v=function(e){var t=e.socket,s=e.user,c=Object(n.useState)(),a=Object(o.a)(c,2),i=a[0],r=a[1],b=Object(n.useState)(),d=Object(o.a)(b,2),h=d[0],p=d[1],x=Object(l.h)(),g=Object(l.i)().id,v=Object(l.g)();if(console.log(s),console.log(g),Object(n.useEffect)((function(){t.on("roomInfo",(function(e){r(e)})),t.on("index",(function(e){p(e)})),t.on("badCode",(function(){v.push("/battleship")}))}),[]),!s)return Object(j.jsx)(l.a,{to:"/login/".concat(g||"")});if(g&&!i)return t.emit("Join","battleship",g,s),Object(j.jsx)(j.Fragment,{});if(!i)return Object(j.jsx)(m,{socket:t,game:"battleship",user:s});if(i.inQ)return Object(j.jsx)(u,{game:"battleship"});if(i.waiting)return Object(j.jsx)(O,{game:"battleship",code:i.code});if("/battleship"===x.pathname)return Object(j.jsx)(l.a,{to:"/battleship/".concat(i.code)});if(2!==i.winner)return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsx)("h1",{children:i.winner===h?"you won.":"you lost."}),i.players[h].rematch?Object(j.jsx)("p",{className:"inputname",children:"Waiting for response..."}):i.players[0===h?1:0].rematch?Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{className:"tac",children:"Oppenent Wants A Rematch?"}),Object(j.jsxs)("div",{className:"Buttons yesno",children:[Object(j.jsx)("button",{className:"formbutton",onClick:function(){return t.emit("b_rematch",i.code,h)},children:"Yes?"}),Object(j.jsx)("button",{className:"formbutton",onClick:function(){return t.emit("reject")},children:"No?"})]})]}):Object(j.jsxs)("div",{className:"MatchmakingButtons",children:[Object(j.jsx)("button",{className:"formbutton",onClick:function(){return t.emit("b_rematch",i.code,h)},children:"rematch"}),Object(j.jsx)("button",{className:"formbutton",onClick:function(){return t.emit("reject")},children:"new game"})]})]});return Object(j.jsxs)("div",{className:"Battleships",children:[Object(j.jsxs)("div",{className:"Board",children:[Object(j.jsxs)("div",{className:"Boardtitle",children:[Object(j.jsx)("h2",{children:"your board"}),Object(j.jsx)("h2",{children:i.players[h].score})]}),Object(j.jsx)(f,{map:i.players[h].map,eshots:i.players[0===h?1:0].shots})]}),Object(j.jsx)("h2",{className:"TurnText",children:h===i.turn?"your turn":i.players[0===h?1:0].user.username+"'s turn"}),Object(j.jsxs)("div",{className:"Board",children:[Object(j.jsxs)("div",{className:"Boardtitle",children:[Object(j.jsxs)("h2",{children:[i.players[0===h?1:0].user.username,"'s Board"]}),Object(j.jsx)("h2",{children:i.players[0===h?1:0].score})]}),Object(j.jsx)(f,{map:i.players[0===h?1:0].map,shots:i.players[h].shots,shoot:function(e){h===i.turn&&t.emit("b_shoot",i.code,e)}})]})]})},A=s(58),C=s.n(A),N=s(19),B=function(e){var t=e.setUser,s=Object(n.useState)(""),c=Object(o.a)(s,2),a=c[0],i=c[1],r=Object(n.useState)(""),u=Object(o.a)(r,2),b=u[0],h=u[1],m=Object(n.useState)(""),O=Object(o.a)(m,2),p=O[0],x=O[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),v=f[0],A=f[1],C=Object(l.i)().id,N=Object(l.g)();return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsx)("h1",{children:"login"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"inputname",children:"guest login"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({username:a,guest:!0,score:0,imgIdx:0}),N.push("/battleship/".concat(C))},children:[Object(j.jsx)("input",{type:"text",placeholder:"enter nickname...",className:"textinp",value:a,onChange:function(e){i(e.target.value.slice(0,14))}}),Object(j.jsx)("input",{type:"submit",value:"submit",className:"formbutton"})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"inputname",children:"account login"}),v&&Object(j.jsx)("p",{className:"Error",children:v}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.a.get("http://localhost:5000/api/user/login/username/".concat(b)).then((function(e){e.data.password===p?(t({username:b,password:p,guest:!1,score:e.data.score,imgIdx:0}),N.push("/battleship/".concat(C))):A("Username Or Password Is Incorrect")})).catch((function(e){console.error(e),A("Username Or Password Is Incorrect")}))},children:[Object(j.jsx)("input",{type:"username",placeholder:"enter username...",className:"textinp",value:b,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"enter uassword...",className:"textinp",value:p,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("input",{type:"submit",value:"login",className:"formbutton"})]})]})]}),Object(j.jsxs)("p",{className:"inputname",children:["don't have an account? register ",Object(j.jsx)("a",{href:"/signup/".concat(C||""),className:"link",children:"here"})]})]})},I=function(e){var t=e.setUser,s=Object(n.useState)(""),c=Object(o.a)(s,2),a=c[0],i=c[1],r=Object(n.useState)(""),u=Object(o.a)(r,2),b=u[0],h=u[1],m=Object(n.useState)(""),O=Object(o.a)(m,2),p=O[0],x=O[1],g=Object(l.g)(),f=Object(l.i)().id;return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"sign up"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"inputname",children:"account signup"}),p&&Object(j.jsx)("p",{className:"Error",children:p}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s={username:a,password:b};d.a.post("http://localhost:5000/api/user/signup",s).then((function(e){console.log(e.data),1===e.data?(t({username:a,password:b,guest:!1,score:0,imgIdx:0}),g.push("/battleship/".concat(f))):x("Username Already Taken")})).catch((function(e){console.error(e),x("Username Already Taken")}))},children:[Object(j.jsx)("input",{type:"username",placeholder:"enter username",className:"textinp",value:a,onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"enter password",className:"textinp",value:b,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("input",{type:"submit",value:"sign up",className:"formbutton"})]})]})]}),Object(j.jsxs)("p",{className:"inputname",children:["already have an account? login ",Object(j.jsx)("a",{href:"/login/".concat(f),className:"link",children:"here"})]})]})};c=C()();var w=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),s=t[0],a=t[1];return Object(j.jsx)(N.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"Topbar",children:[Object(j.jsx)("div",{className:"Title",children:Object(j.jsxs)("h1",{children:["paper",Object(j.jsx)("br",{}),"games."]})}),Object(j.jsx)("div",{className:"Navbar",children:Object(j.jsx)("h3",{className:"Navlink",children:"battleship"})})]}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/",exact:!0,children:Object(j.jsx)(l.a,{to:"/login"})}),Object(j.jsx)(l.b,{path:"/battleship/:id?",children:Object(j.jsx)(v,{socket:c,user:s})}),Object(j.jsx)(l.b,{path:"/signup/:id?",children:Object(j.jsx)(I,{setUser:a})}),Object(j.jsx)(l.b,{path:"/login/:id?",children:Object(j.jsx)(B,{setUser:a})})]})]})})},k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,118)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),k()},64:function(e,t,s){}},[[116,1,2]]]);
//# sourceMappingURL=main.4f2a87f7.chunk.js.map