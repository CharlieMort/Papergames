{"version":3,"sources":["App.js","components/Queue.js","components/Rooms.js","imgs/battleship.png","components/Invite.js","games/battleship/Grid.js","games/battleship/Battleship.js","components/Login.js","components/Signup.js","reportWebVitals.js","index.js"],"names":["socket","Queue","game","className","Room","user","useState","leaderboard","setLeaderboard","useEffect","axios","get","then","res","data","catch","err","console","log","src","onClick","emit","map","score","idx","username","v4","Invite","code","window","location","href","Cell","coords","shoot","CellDiv","val","shot","length","xmlns","viewBox","fill","fillRule","d","clipRule","Hit","split","Grid","eshots","shots","undefined","row","y","cell","x","newArr","filter","uuidv4","Battleship","roomInfo","setRoomInfo","setIdx","useLocation","id","useParams","history","useHistory","on","index","push","to","Rooms","inQ","waiting","pathname","winner","players","rematch","turn","Login","setUser","nickname","setNickname","setUsername","password","setPassword","error","setError","onSubmit","e","preventDefault","guest","imgIdx","type","placeholder","value","onChange","target","slice","Signup","post","socketIO","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f2a87f7.chunk.js","sourcesContent":["import './App.css';\nimport Battleship from \"./games/battleship/Battleship\";\nimport socketIO from \"socket.io-client\";\nimport logo from \"./logo.png\";\nimport {BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\";\nimport { Login } from './components/Login';\nimport { Signup } from './components/Signup';\nimport { useState } from 'react';\n\nconst ENDPOINT = \"http://localhost:5000\";\nlet socket;\nif (process.env.NODE_ENV === \"development\") {\n  socket = socketIO(ENDPOINT);\n}\nelse {\n  socket = socketIO();\n}\n\nfunction App() {\n  const [user, setUser] = useState();\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <div className=\"Topbar\">\n          <div className=\"Title\">\n            <h1>paper<br></br>games.</h1>\n          </div>\n          <div className=\"Navbar\">\n            <h3 className=\"Navlink\">battleship</h3>\n          </div>\n        </div>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Redirect to=\"/login\" />\n          </Route>\n          <Route path=\"/battleship/:id?\">\n            <Battleship socket={socket} user={user} />\n          </Route>\n          <Route path=\"/signup/:id?\">\n            <Signup setUser={setUser} />\n          </Route>\n          <Route path=\"/login/:id?\">\n            <Login setUser={setUser} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\r\n\r\nconst Queue = ({game}) => {\r\n    return(\r\n        <div className=\"Panel\">\r\n            <h1>{game}</h1>\r\n            <p className=\"inputname\">searching for a game ...</p>\r\n            <p className=\"inputname\">time elapsed 0s</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Queue;","import React, { useEffect, useState } from \"react\";\r\nimport battleshipImg from \"../imgs/battleship.png\";\r\nimport axios from \"axios\";\r\nimport {v4} from \"uuid\";\r\n\r\nconst Room = ({socket, game, user}) => {\r\n    const [leaderboard, setLeaderboard] = useState([]);\r\n\r\n    const Random = () => {\r\n        socket.emit(`q${game}`, user);\r\n    }\r\n\r\n    const Invite = () => {\r\n        socket.emit(`create${game}`, user);\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:5000/api/user/leaderboard\")\r\n            .then(res => {\r\n                setLeaderboard(res.data);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"Roomswrapper\">\r\n            <div className=\"Panel Rooms\">\r\n                <div className=\"GameIcon\">\r\n                    <h1>{game}.</h1>\r\n                    <img src={battleshipImg} />\r\n                </div>\r\n                <div className=\"Matchmakingbuttons\">\r\n                    <button onClick={Random} className=\"formbutton\">find random player</button>\r\n                    <button onClick={Invite} className=\"formbutton\">invite a friend</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"Panel Leaderboard\">\r\n                <h1>leaderboard</h1>\r\n                {\r\n                    leaderboard.map((score, idx) => {\r\n                        return <div className=\"Score\" key={v4()}>\r\n                            <p>{idx+1}. {score.username}</p>\r\n                            <p>{score.score}</p>\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Room;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMsAAADLCAYAAADA+2czAAACsElEQVR4nO3csUkEURhG0bcyuRXYgWBgBbZkIfZgJdbkNqAoJiZ636I+nD0n2uxnFi7DJN/h6vH4MoAvXT7cjW18/Pgrz/dPY+83z+EZV99c4WLZZfhnxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRrWMI3iZqvVkgMgy+g3tj8WC2YXBALHAKsUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQ2TqGwNYxTNj8Wb/H1vHPW7VbPXyzQCcWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiAyDQ2AYHCa8D4Pvedh5xc2Vz7iCYXDgE7FAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAZBgcAsPgMMEw+A7ujTMcBl/BmwUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUBkGBwCw+AwwTD4Du6teMbVN1fwZoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoHI1jEEto5hwnZOf5atYzdPvTd8s0AnFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFogMg0NgGBwmHK5vbr1Z4DtjjFe7/ouRPIKACwAAAABJRU5ErkJggg==\"","import React from \"react\";\r\n\r\nconst Invite = ({game, code}) => {\r\n    return(\r\n        <div className=\"Panel\">\r\n            <h1>invite your friend to {game}</h1>\r\n            <p>send them this link</p>\r\n            <h4>{`${window.location.href}/${code}`}</h4>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Invite;","import React from \"react\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\n\r\nconst Grid = ({map, eshots, shots, shoot}) => {\r\n    if (shots !== undefined) console.log(\"Shots:\" + shots);\r\n\r\n    return(\r\n        <div className=\"Grid\">\r\n            {\r\n                shots !== undefined \r\n                ? map.map((row, y) => {\r\n                    return row.map((cell, x) => {\r\n                        let newArr = shots.filter((shot) => shot[0] === x && shot[1] === y);\r\n                        if (newArr.length > 0) {\r\n                            console.log(\"Shot Coords:\" + newArr);\r\n                            return <Hit val={cell} coords={[x, y]} key={uuidv4()} />\r\n                        }\r\n                        return <Cell coords={[x, y]} key={uuidv4()} shoot={shoot}></Cell>\r\n                    })\r\n                })\r\n                : map.map((row, y) => {\r\n                    return row.map((cell, x) => {\r\n                        let newArr = eshots.filter((shot) => shot[0] === x && shot[1] === y);\r\n                        let shot = \"\";\r\n                        if (newArr.length > 0) {\r\n                            if (cell.length > 4) shot = \"hit\";\r\n                            else shot = \"miss\";\r\n                            console.log(newArr[0]);\r\n                        }\r\n                        return <CellDiv val={cell} coords={[x, y]} key={uuidv4()} shot={shot} />\r\n                    })\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Cell = ({coords, shoot}) => {\r\n    return(\r\n        <button className=\"Cell\" onClick={() => shoot(coords)}></button>\r\n    )\r\n}\r\n\r\nexport const CellDiv = ({val, shot}) => {\r\n    return(\r\n        <div className={`Cell ${val} ${val.length > 4?\"Hit\":\"Miss\"}`} >\r\n            {\r\n                shot !== \"\"\r\n                    ?shot === \"hit\"\r\n                        ?<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"white\">\r\n                            <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                        </svg>\r\n                        :<div className=\"Circle\" />\r\n                    : \"\"\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Hit = ({val}) => {\r\n    return(\r\n        <div className={`${val.split(\" \")[1]?val.split(\" \")[1]:\"\"} Cell ${val.length > 4?\"Hit\":\"Miss\"}`}>\r\n            {\r\n                val.length > 4\r\n                ?<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                :<div className=\"Circle\" />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Grid;","import React, { useEffect, useState } from \"react\";\r\nimport { Redirect, useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport Queue from \"../../components/Queue\";\r\nimport Rooms from \"../../components/Rooms\";\r\nimport Invite from \"../../components/Invite\";\r\nimport Grid from \"./Grid\";\r\n\r\nconst Battleship = ({socket, user}) => {\r\n    const [roomInfo, setRoomInfo] = useState();\r\n    const [idx, setIdx] = useState();\r\n    const location = useLocation();\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n\r\n    console.log(user);\r\n    console.log(id);\r\n\r\n    useEffect(() => {\r\n        socket.on(\"roomInfo\", (data) => {\r\n            setRoomInfo(data);\r\n        })\r\n        socket.on(\"index\", (index) => {\r\n            setIdx(index)\r\n        })\r\n        socket.on(\"badCode\", () => {\r\n            history.push(\"/battleship\");\r\n        })\r\n    }, []);\r\n\r\n    if (!user) {\r\n        return <Redirect to={`/login/${id?id:\"\"}`} />\r\n    }\r\n\r\n    if (id && !roomInfo) {\r\n        socket.emit(\"Join\", \"battleship\", id, user);\r\n        return <></>;\r\n    }\r\n    if (!roomInfo) {\r\n        return <Rooms socket={socket} game=\"battleship\" user={user} />\r\n    }\r\n    if (roomInfo.inQ) {\r\n        return <Queue game=\"battleship\" />\r\n    }\r\n\r\n    if (roomInfo.waiting) {\r\n        return <Invite game=\"battleship\" code={roomInfo.code} />\r\n    }\r\n\r\n    if (location.pathname === \"/battleship\") return <Redirect to={`/battleship/${roomInfo.code}`} />\r\n\r\n    if (roomInfo.winner !== 2) {\r\n        return( \r\n            <div className=\"Panel\">\r\n                <h1>{roomInfo.winner === idx?\"you won.\":\"you lost.\"}</h1>\r\n                {\r\n                    roomInfo.players[idx].rematch\r\n                    ? <p className=\"inputname\">Waiting for response...</p>\r\n                    : roomInfo.players[idx===0?1:0].rematch\r\n                        ? <div>\r\n                            <h3 className=\"tac\">Oppenent Wants A Rematch?</h3>\r\n                            <div className=\"Buttons yesno\">\r\n                                <button className=\"formbutton\" onClick={() => socket.emit(\"b_rematch\", roomInfo.code, idx)}>Yes?</button>\r\n                                <button className=\"formbutton\" onClick={() => socket.emit(\"reject\")}>No?</button>\r\n                            </div>\r\n                        </div>\r\n                        : <div className=\"MatchmakingButtons\">\r\n                            <button className=\"formbutton\" onClick={() => socket.emit(\"b_rematch\", roomInfo.code, idx)}>rematch</button>\r\n                            <button className=\"formbutton\" onClick={() => socket.emit(\"reject\")}>new game</button>\r\n                        </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const Shoot = (coords) => {\r\n        if (idx === roomInfo.turn) {\r\n            socket.emit(\"b_shoot\", roomInfo.code, coords);\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <div className=\"Battleships\">\r\n            <div className=\"Board\">\r\n                <div className=\"Boardtitle\">\r\n                    <h2>your board</h2>\r\n                    <h2>{roomInfo.players[idx].score}</h2>\r\n                </div>\r\n                <Grid map={roomInfo.players[idx].map} eshots={roomInfo.players[idx===0?1:0].shots} />\r\n            </div>\r\n            <h2 className=\"TurnText\">\r\n                {\r\n                    idx === roomInfo.turn \r\n                    ? \"your turn\"\r\n                    : roomInfo.players[idx===0?1:0].user.username+\"'s turn\"\r\n                }\r\n            </h2>\r\n            <div className=\"Board\">\r\n                <div className=\"Boardtitle\">\r\n                    <h2>{roomInfo.players[idx===0?1:0].user.username}'s Board</h2>\r\n                    <h2>{roomInfo.players[idx===0?1:0].score}</h2>\r\n                </div>\r\n                <Grid map={roomInfo.players[idx===0?1:0].map} shots={roomInfo.players[idx].shots} shoot={Shoot} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Battleship;\r\n","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nexport const Login = ({setUser}) => {\r\n    const [nickname, setNickname] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n\r\n    const nickLogin = (e) => {\r\n        e.preventDefault();\r\n        setUser({\r\n            username: nickname,\r\n            guest: true,\r\n            score: 0,\r\n            imgIdx: 0\r\n        })\r\n        history.push(`/battleship/${id}`)\r\n    }\r\n\r\n    const login = (e) => {\r\n        e.preventDefault();\r\n        axios.get(`http://localhost:5000/api/user/login/username/${username}`)\r\n            .then(res => {\r\n                if (res.data.password === password) {\r\n                    setUser({\r\n                        username,\r\n                        password,\r\n                        guest: false,\r\n                        score: res.data.score,\r\n                        imgIdx: 0\r\n                    })\r\n                    history.push(`/battleship/${id}`)\r\n                }\r\n                else {\r\n                    setError(\"Username Or Password Is Incorrect\");\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n                setError(\"Username Or Password Is Incorrect\");\r\n            });\r\n    }\r\n\r\n    const nickChange = (e) => {\r\n        setNickname(e.target.value.slice(0,14));\r\n    }\r\n\r\n    return(\r\n        <div className=\"Panel\">\r\n            <h1>login</h1>\r\n            <div>\r\n                <div>\r\n                    <p className=\"inputname\">guest login</p>\r\n                    <form onSubmit={nickLogin}>\r\n                        <input type=\"text\" placeholder=\"enter nickname...\" className=\"textinp\" value={nickname} onChange={nickChange} />\r\n                        <input type=\"submit\" value=\"submit\" className=\"formbutton\" />\r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    <p className=\"inputname\">account login</p>\r\n                    {\r\n                        error &&\r\n                        <p className=\"Error\">{error}</p>\r\n                    }\r\n                    <form onSubmit={login}>\r\n                        <input type=\"username\" placeholder=\"enter username...\" className=\"textinp\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n                        <input type=\"password\" placeholder=\"enter uassword...\" className=\"textinp\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n                        <input type=\"submit\" value=\"login\" className=\"formbutton\" />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <p className=\"inputname\">don't have an account? register <a href={`/signup/${id?id:\"\"}`} className=\"link\">here</a></p>\r\n        </div>\r\n    )\r\n}","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nexport const Signup = ({setUser}) => {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n\r\n    const signUp = (e) => {\r\n        e.preventDefault();\r\n        const user = {\r\n            username,\r\n            password,\r\n        }\r\n\r\n        axios.post(\"http://localhost:5000/api/user/signup\", user)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                if (res.data === 1) {\r\n                    setUser({\r\n                        username,\r\n                        password,\r\n                        guest: false,\r\n                        score: 0,\r\n                        imgIdx: 0\r\n                    })\r\n                    history.push(`/battleship/${id}`)\r\n                }\r\n                else {\r\n                    setError(\"Username Already Taken\");\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.error(err)\r\n                setError(\"Username Already Taken\");\r\n            });\r\n    }\r\n\r\n    return(\r\n        <div className=\"Panel\">\r\n            <div>\r\n                <h1>sign up</h1>\r\n                <div>\r\n                    <p className=\"inputname\">account signup</p>\r\n                    {\r\n                        error &&\r\n                        <p className=\"Error\">{error}</p>\r\n                    }\r\n                    <form onSubmit={signUp}>\r\n                        <input type=\"username\" placeholder=\"enter username\" className=\"textinp\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n                        <input type=\"password\" placeholder=\"enter password\" className=\"textinp\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n                        <input type=\"submit\" value=\"sign up\" className=\"formbutton\" />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <p className=\"inputname\">already have an account? login <a href={`/login/${id}`} className=\"link\">here</a></p>\r\n        </div>\r\n    )\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}