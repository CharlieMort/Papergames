(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,s){"use strict";s.r(t);var c,n=s(1),a=s.n(n),r=s(56),i=s.n(r),o=s(4),l=(s(63),s(2)),j=s(0),u=function(e){var t=e.game;return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsx)("h1",{children:t}),Object(j.jsx)("p",{className:"inputname",children:"searching for a game ..."}),Object(j.jsx)("p",{className:"inputname",children:"time elapsed 0s"})]})},b=function(e){var t=e.socket,s=e.game,c=e.user;return Object(j.jsxs)("div",{className:"Panel Rooms",children:[Object(j.jsxs)("div",{className:"GameIcon",children:[Object(j.jsxs)("h1",{children:[s,"."]}),Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMsAAADLCAYAAADA+2czAAACsElEQVR4nO3csUkEURhG0bcyuRXYgWBgBbZkIfZgJdbkNqAoJiZ636I+nD0n2uxnFi7DJN/h6vH4MoAvXT7cjW18/Pgrz/dPY+83z+EZV99c4WLZZfhnxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRrWMI3iZqvVkgMgy+g3tj8WC2YXBALHAKsUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQ2TqGwNYxTNj8Wb/H1vHPW7VbPXyzQCcWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiAyDQ2AYHCa8D4Pvedh5xc2Vz7iCYXDgE7FAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAJBaIxAKRWCASC0RigUgsEIkFIrFAZBgcAsPgMMEw+A7ujTMcBl/BmwUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUBkGBwCw+AwwTD4Du6teMbVN1fwZoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoFILBCJBSKxQCQWiMQCkVggEgtEYoHI1jEEto5hwnZOf5atYzdPvTd8s0AnFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFojEApFYIBILRGKBSCwQiQUisUAkFogMg0NgGBwmHK5vbr1Z4DtjjFe7/ouRPIKACwAAAABJRU5ErkJggg=="})]}),Object(j.jsxs)("div",{className:"Matchmakingbuttons",children:[Object(j.jsx)("button",{onClick:function(){t.emit("q".concat(s),c)},className:"formbutton",children:"find random player"}),Object(j.jsx)("button",{className:"formbutton",children:"invite a friend"})]})]})},h=function(e){var t=e.game,s=e.code;return Object(j.jsxs)("div",{className:"flex c tc column",children:[Object(j.jsxs)("h1",{children:["Invite Your Friend To ","".concat(t.substring(0,1).toUpperCase()).concat(t.substring(1))]}),Object(j.jsx)("h2",{children:"Send Them This Link"}),Object(j.jsxs)("h3",{focused:"true",children:["localhost:3000/",t,"/",s]})]})},d=s(117),m=function(e){var t=e.coords,s=e.shoot;return Object(j.jsx)("button",{className:"Cell",onClick:function(){return s(t)}})},x=function(e){var t=e.val,s=e.shot;return Object(j.jsx)("div",{className:"Cell ".concat(t," ").concat(t.length>4?"Hit":"Miss"),children:""!==s?"hit"===s?Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"white",children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):Object(j.jsx)("div",{className:"Circle"}):""})},p=function(e){var t=e.val;return Object(j.jsx)("div",{className:"".concat(t.split(" ")[1]?t.split(" ")[1]:""," Cell ").concat(t.length>4?"Hit":"Miss"),children:t.length>4?Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):Object(j.jsx)("div",{className:"Circle"})})},O=function(e){var t=e.map,s=e.eshots,c=e.shots,n=e.shoot;return void 0!==c&&console.log("Shots:"+c),Object(j.jsx)("div",{className:"Grid",children:void 0!==c?t.map((function(e,t){return e.map((function(e,s){var a=c.filter((function(e){return e[0]===s&&e[1]===t}));return a.length>0?(console.log("Shot Coords:"+a),Object(j.jsx)(p,{val:e,coords:[s,t]},Object(d.a)())):Object(j.jsx)(m,{coords:[s,t],shoot:n},Object(d.a)())}))})):t.map((function(e,t){return e.map((function(e,c){var n=s.filter((function(e){return e[0]===c&&e[1]===t})),a="";return n.length>0&&(a=e.length>4?"hit":"miss",console.log(n[0])),Object(j.jsx)(x,{val:e,coords:[c,t],shot:a},Object(d.a)())}))}))})},g=function(e){var t=e.socket,s=e.user,c=Object(n.useState)(),a=Object(o.a)(c,2),r=a[0],i=a[1],d=Object(n.useState)(),m=Object(o.a)(d,2),x=m[0],p=m[1],g=Object(l.h)(),v=Object(l.i)().id,f=Object(l.g)();if(console.log(s),Object(n.useEffect)((function(){t.on("roomInfo",(function(e){i(e),console.log(e)})),t.on("index",(function(e){p(e)})),t.on("badCode",(function(){f.push("/battleship")}))}),[]),!s)return Object(j.jsx)(l.a,{to:"/login"});if(v&&!r)return t.emit("Join","battleship",s),Object(j.jsx)(j.Fragment,{});if(!r)return Object(j.jsx)(b,{socket:t,game:"battleship",user:s});if(r.inQ)return Object(j.jsx)(u,{game:"battleship"});if(r.waiting)return Object(j.jsx)(h,{game:"battleship",code:r.code});if("/battleship"===g.pathname)return Object(j.jsx)(l.a,{to:"/battleship/".concat(r.code)});if(2!==r.winner)return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsx)("h1",{children:r.winner===x?"you won.":"you lost."}),r.players[x].rematch?Object(j.jsx)("p",{className:"inputname",children:"Waiting for response..."}):r.players[0===x?1:0].rematch?Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{className:"tac",children:"Oppenent Wants A Rematch?"}),Object(j.jsxs)("div",{className:"Buttons yesno",children:[Object(j.jsx)("button",{className:"formbutton",onClick:function(){return t.emit("b_rematch",r.code,x)},children:"Yes?"}),Object(j.jsx)("button",{className:"formbutton",onClick:function(){return t.emit("reject")},children:"No?"})]})]}):Object(j.jsxs)("div",{className:"MatchmakingButtons",children:[Object(j.jsx)("button",{className:"formbutton",onClick:function(){return t.emit("b_rematch",r.code,x)},children:"rematch"}),Object(j.jsx)("button",{className:"formbutton",onClick:function(){return t.emit("reject")},children:"new game"})]})]});return console.log(r.players[0===x?1:0].user),Object(j.jsxs)("div",{className:"Battleships",children:[Object(j.jsxs)("div",{className:"Board",children:[Object(j.jsx)("h2",{children:"Your Board"}),Object(j.jsx)(O,{map:r.players[x].map,eshots:r.players[0===x?1:0].shots})]}),Object(j.jsx)("h2",{className:"TurnText",children:x===r.turn?"your turn":r.players[0===x?1:0].user.username+"'s turn"}),Object(j.jsxs)("div",{className:"Board",children:[Object(j.jsxs)("h2",{children:[r.players[0===x?1:0].user.username,"'s Board"]}),Object(j.jsx)(O,{map:r.players[0===x?1:0].map,shots:r.players[x].shots,shoot:function(e){console.log("SHooting"),x===r.turn&&t.emit("b_shoot",r.code,e)}})]})]})},v=s(58),f=s.n(v),A=s(27),C=s(21),N=s.n(C),I=function(e){var t=e.setUser,s=Object(n.useState)(""),c=Object(o.a)(s,2),a=c[0],r=c[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),u=l[0],b=l[1],h=Object(n.useState)(""),d=Object(o.a)(h,2),m=d[0],x=d[1],p=Object(n.useState)(""),O=Object(o.a)(p,2),g=O[0],v=O[1];return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsx)("h1",{children:"login"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"inputname",children:"guest login"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({username:a,guest:!0,score:0,imgIdx:0})},children:[Object(j.jsx)("input",{type:"text",placeholder:"enter nickname...",className:"textinp",value:a,onChange:function(e){r(e.target.value.slice(0,14))}}),Object(j.jsx)("input",{type:"submit",value:"submit",className:"formbutton"})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"inputname",children:"account login"}),g&&Object(j.jsx)("p",{className:"Error",children:g}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N.a.get("http://localhost:5000/api/user/login/".concat(u)).then((function(e){e.data.password===m?t({username:u,password:m,guest:!1,score:e.data.score,imgIdx:0}):v("Username Or Password Is Incorrect")})).catch((function(e){console.error(e),v("Username Or Password Is Incorrect")}))},children:[Object(j.jsx)("input",{type:"username",placeholder:"enter username...",className:"textinp",value:u,onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"enter uassword...",className:"textinp",value:m,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("input",{type:"submit",value:"login",className:"formbutton"})]})]})]}),Object(j.jsxs)("p",{className:"inputname",children:["don't have an account? register ",Object(j.jsx)("a",{href:"/signup",className:"link",children:"here"})]})]})},B=function(e){var t=e.setUser,s=Object(n.useState)(""),c=Object(o.a)(s,2),a=c[0],r=c[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),u=l[0],b=l[1],h=Object(n.useState)(""),d=Object(o.a)(h,2),m=d[0],x=d[1];return Object(j.jsxs)("div",{className:"Panel",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"sign up"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"inputname",children:"account signup"}),m&&Object(j.jsx)("p",{className:"Error",children:m}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s={username:a,password:u};N.a.post("http://localhost:5000/api/user/signup",s).then((function(e){console.log(e.data),1===e.data?t({username:a,password:u,guest:!1,score:0,imgIdx:0}):x("Username Already Taken")})).catch((function(e){console.error(e),x("Username Already Taken")}))},children:[Object(j.jsx)("input",{type:"username",placeholder:"enter username",className:"textinp",value:a,onChange:function(e){return r(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"enter password",className:"textinp",value:u,onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("input",{type:"submit",value:"sign up",className:"formbutton"})]})]})]}),Object(j.jsxs)("p",{className:"inputname",children:["already have an account? login ",Object(j.jsx)("a",{href:"/login",className:"link",children:"here"})]})]})};c=f()();var w=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),s=t[0],a=t[1];return Object(j.jsx)(A.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"Topbar",children:[Object(j.jsx)("div",{className:"Title",children:Object(j.jsxs)("h1",{children:["paper",Object(j.jsx)("br",{}),"games."]})}),Object(j.jsx)("div",{className:"Navbar",children:Object(j.jsx)("h3",{className:"Navlink",children:"battleship"})})]}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/",exact:!0,children:Object(j.jsx)(l.a,{to:"/login"})}),Object(j.jsx)(l.b,{path:"/battleship",exact:!0,children:Object(j.jsx)(g,{socket:c,user:s})}),Object(j.jsx)(l.b,{path:"/battleship/:id",children:Object(j.jsx)(g,{socket:c,user:s})}),Object(j.jsx)(l.b,{path:"/signup",exact:!0,children:s?Object(j.jsx)(l.a,{to:"/battleship"}):Object(j.jsx)(B,{setUser:a})}),Object(j.jsx)(l.b,{path:"/login",exact:!0,children:s?Object(j.jsx)(l.a,{to:"/battleship"}):Object(j.jsx)(I,{setUser:a})})]})]})})},k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,118)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),a(e),r(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),k()},63:function(e,t,s){}},[[115,1,2]]]);
//# sourceMappingURL=main.8150f716.chunk.js.map